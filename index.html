<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>معرض السيارات</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
      direction: rtl;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 30px;
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px 15px;
      margin-bottom: 20px;
    }

    .filters select {
      padding: 10px;
      width: 150px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    .add-form {
      margin-top: 40px;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    .add-form h3 {
      margin-top: 0;
      text-align: center;
    }

    .add-form input, .add-form select {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .add-form button {
      background-color: #28a745;
      color: white;
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<h1>add Carbedia</h1>

<div id="cardsContainer">
  <!-- البطاقات هنا -->
</div>

<div class="add-form">
  <h3>أضف سيارة جديدة</h3>
  <div class="filters">
    <select id="brandFilter"><option value="">الشركة</option><option>تويوتا</option><option>هيونداي</option><option>مرسيدس</option><option>نيسان</option></select>
    <select id="cityFilter"><option value="">المدينة</option><option>الرياض</option><option>جدة</option><option>الدمام</option><option>المدينة</option></select>
    <select id="modelFilter"><option value="">الموديل</option><option>2020</option><option>2021</option><option>2022</option><option>2023</option></select>
    <select id="typeFilter"><option value="">النوع</option><option>سيدان</option><option>دفع رباعي</option><option>هاتشباك</option><option>بيك أب</option></select>
    <select id="gearFilter"><option value="">القير</option><option>أوتوماتيك</option><option>عادي</option></select>
    <select id="fuelFilter"><option value="">الوقود</option><option>بنزين</option><option>ديزل</option><option>كهرباء</option><option>هايبرد</option></select>
    <select id="colorFilter"><option value="">اللون</option><option>أبيض</option><option>أسود</option><option>فضي</option><option>رمادي</option><option>أحمر</option></select>
    <select id="ccFilter"><option value="">السعة</option><option>1000 CC</option><option>1500 CC</option><option>2000 CC</option><option>3000 CC</option></select>
  </div>
  <input type="text" id="name" placeholder="عنوان الإعلان ">
  <input type="number" id="price" placeholder="السعر">
  <button onclick="addCar()">إضافة</button>
</div>

<!-- Firebase scripts -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>

<script>
  // 1. Firebase config
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    databaseURL: "https://YOUR_PROJECT_ID.firebaseio.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "SENDER_ID",
    appId: "APP_ID"
  };

  // 2. Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const database = firebase.database();

  // 3. Function to add a car
  function addCar() {
    const name = document.getElementById("name").value;
    const price = document.getElementById("price").value;
    const brand = document.getElementById("brandFilter").value;
    const city = document.getElementById("cityFilter").value;
    const model = document.getElementById("modelFilter").value;
    const type = document.getElementById("typeFilter").value;
    const gear = document.getElementById("gearFilter").value;
    const fuel = document.getElementById("fuelFilter").value;
    const color = document.getElementById("colorFilter").value;
    const cc = document.getElementById("ccFilter").value;

    if (!name || !price) {
      alert("يرجى إدخال عنوان وسعر السيارة");
      return;
    }

    const car = {
      name,
      price,
      brand,
      city,
      model,
      type,
      gear,
      fuel,
      color,
      cc,
      createdAt: new Date().toISOString()
    };

    firebase.database().ref("cars").push(car)
      .then(() => {
        alert("تمت إضافة السيارة بنجاح");
        document.querySelectorAll(".add-form input").forEach(i => i.value = "");
      })
      .catch(error => {
        console.error("حدث خطأ:", error);
        alert("فشل الإضافة");
      });
  }
</script>

</body>
</html>
